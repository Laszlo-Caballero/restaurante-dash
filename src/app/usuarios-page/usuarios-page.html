<app-title title="Usuarios" subtitle="GestiÃ³n completa de los usuarios registrados en el sistema">
  <app-button className="flex items-center gap-2" (click)="openCreateUsuarioModal()">
    <lucide-angular [img]="PlusIcon" />
    Crear Usuario
  </app-button>
</app-title>

<div class="rounded-xl shadow-xl">
  <app-table [columns]="columns()" [data]="users()">
    <ng-template #role let-row>
      @if(row.role === "ADMIN"){
      <app-bagde className="justify-start">
        <lucide-angular [img]="ShieldIcon" />
        Administrador
      </app-bagde>
      }@else {
      <app-bagde className="justify-start">
        <lucide-angular [img]="UserIcon" />
        Usuario
      </app-bagde>
      }
    </ng-template>

    <ng-template #actions let-row>
      <app-button className="bg-red-600 hover:bg-red-700 py-1" (click)="onDeleteUser(row)">
        Eliminar
      </app-button>
    </ng-template>
  </app-table>
</div>

@if(isLoading()){
<app-load />
} @if(isOpenModal()){
<app-eliminar-usuario [user]="selectedUser()!" [onCloseModal]="onCloseModal" />
} @if(isOpenCreateUsuarioModal()){
<app-create-usuario [onCloseModal]="onCloseCreateUsuarioModal" />
}
